.chat-history {
	@apply w-full md:w-[42rem] space-y-4;
}

.chat-message {
	@apply px-4 py-3 rounded-xl flex flex-col break-words bg-[var(--bot-bubble-bg)] text-[var(--text-color)] shadow max-md:text-sm border;
}

.chat-message.is-user > *:last-child,
.chat-message:not(.is-user) > .prose > *:last-child {
	@apply mb-0;
}

.chat-message pre {
	@apply max-md:text-xs;
}

.chat-message table {
	@apply max-md:text-xs;
}

.chat-message.is-user {
	@apply self-end bg-[var(--user-bubble-bg)] dark:border-[var(--form-border)] border-[var(--btn-secondary-bg)] rounded-br w-fit max-w-[95%] sm:max-w-[85%];
}

.chat-message:not(.is-user) {
	@apply self-start bg-[var(--bot-bubble-bg)] border-[var(--form-border)] dark:border-[var(--btn-secondary-hover-bg)] rounded-bl w-[95%] sm:w-[85%];
}

/* Message content styling */
.chat-message :where(h1, h2, h3, h4, h5, h6) {
	@apply font-semibold text-[var(--text-color)];
}

.chat-message h1,
h2,
h3,
h4,
h5,
h6 {
	@apply mb-3;
}

.chat-message h1 {
	@apply text-2xl mb-4 pt-2;
}
.chat-message h2 {
	@apply text-xl pt-2;
}
.chat-message h3 {
	@apply text-lg;
}
.chat-message h4,
h5,
h6 {
	@apply text-base;
}

.chat-message hr {
	@apply mb-3;
}

.chat-message p {
	@apply text-base mb-3 leading-relaxed;
}

.chat-message ul,
.chat-message ol {
	@apply mb-4 pl-6;
}

.chat-message li {
	@apply mb-2 leading-relaxed text-base;
}

.chat-message ul li {
	@apply list-disc;
}

.chat-message ol li {
	@apply list-decimal;
}

.chat-message li > p {
	@apply inline;
}

.chat-message pre {
	@apply p-4 rounded-lg my-3 overflow-x-auto text-sm bg-[var(--primary-card-bg)] border border-[var(--form-border)];
}

.chat-message code {
	@apply px-1.5 py-1 rounded-md text-sm bg-[var(--primary-card-bg)] border border-[var(--form-border)];
}

.chat-message table {
	@apply w-full my-4 border-collapse rounded-lg overflow-hidden shadow-sm bg-[var(--primary-card-bg)] border border-[var(--form-border)];
}

.chat-message th,
.chat-message td {
	@apply px-4 py-2 text-left border-b border-[var(--form-border)];
}

.chat-message th {
	@apply font-semibold bg-[var(--secondary-card-bg)];
}

.chat-message tr:last-child td {
	@apply border-b-0;
}

/* Katex adjustments */
.katex-display {
	@apply my-3 p-2 rounded-lg overflow-x-auto overflow-y-hidden bg-[var(--primary-card-bg)] border border-[var(--form-border)];
}
